language: python
services: mongodb

python:
  - 2.7

cache:
  directories:
    - $HOME/.pip-cache

install: 
  - pip install -r requirements.txt --no-use-wheel --download-cache $HOME/.pip-cache
  - sudo apt-get update
  - sudo add-apt-repository ppa:andrewrk/libgroove --yes
  - sudo apt-get install ffmpeg libpng3 libgroove4
  - cd hummedia/utils/waveform-2.0.0 && make

before_script: cp hummedia/config.template.py hummedia/config.py
  
script: py.test hummedia/test -l
